# Allestra-parser
Я на прошлой паре обещал к следующей сделать парсер allectra.com

# Что сделал?

Парсер на phyton, который рекурсивно чекает товары и переписывает всё в csv.

# Возникщие вопросы

1. Зачем я это делаю? Нужно ли получить единичный результат или написать парсер, который будет регулярно и отказоустойчиво работать? Или нужно его развернуть, чтобы он это делал где-то и высылал на  почту? От ответа на этот вопрос зависит дальнейшее всё.
2. GUI (интерфейс), его нет. Вопрос нужен ли он?

 ![mountains](https://sun9-72.userapi.com/impg/ZXU6CKpZ2rlqNEShLgLPLiGsKv9mXGeev1rZpA/VG-u3qCDhe4.jpg?size=419x440&quality=96&sign=af43c3101fa74de0622f2f4387a41c64&type=album)

3. Проблема единообразия. Specifications для разных товаров разные, у некоторых товаров есть одни поля, у некоторых совсем другие. В указанном требовании было, что всё нужно засунуть в одну таблицу, я бы засовывал в разные, по категориям.

### Пример разных записей спецификации, которые сложно впихнуть в одну таблицу
![mountains](https://sun9-8.userapi.com/impg/uOMFZUzGgFZZdW_vDm5emTYbZ9AKQCG7UW-p3Q/Owu2PCB1d3s.jpg?size=902x670&quality=96&sign=7bf2c9442f032410b28a28d36c7399f7&type=album)
![mountains](https://sun9-42.userapi.com/impg/FveKdrbYCIXX_zqlK1GfI1tUxWuXCNfNoRy_kQ/9dKjeYdrRoU.jpg?size=878x827&quality=96&sign=de916e3c844a33886352b1e90ec6e3d4&type=album)

Временным решением этой истории я использую подпись "Something" и вписываю и название свойства и само свойства в запись, что выглядит некрасиво, но позволит сделать красоту инструментами Excel.
![image](https://user-images.githubusercontent.com/56191373/118563655-656cda80-b788-11eb-8bbd-3df526b43967.png)

4. Нашёл js код, который даёт разную цену в зависимости от региона, поставил так, чтобы парсилась цена, которую показывает мне сайт в браузере. Вопрос: Может парсить другую, или парсить обе?
5. Мой метод открывает страничку первого товара, где есть ссылка на следующий. Но возникла проблемка, некоторые ссылки недействительны, метод не работает. Есть два сценария:


      А) Можно убить пару часов и выбирать товар не на страничке предыдущего, а в каталоге. Если нам нужно, чтобы программа могла работать самостоятельно, как бы сайт не косячил,          была автономна и отказоустойчива.
      
      Б) Можно за полчаса найти все дыры в их каталоге, указать программе. Если нам нужен разовый результат, то это предпочтительный метод. Но если появится новый товар или новая          дыра, то работать всё перестанет.
      
Всё свелось к первому вопросу
