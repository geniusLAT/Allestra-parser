# Allestra-parser
Так я разобрался с сессией и немного поспал.

В прошлый раз были некоторые проблемы с тем, что тактика перехода по ссылке к следующей части не работала. Всё работало по принципу цепной реакции, что приводило к поломке.

Пример:
![mountains](https://sun9-80.userapi.com/impg/hnQN1m-c5oAdU-HZdHVIQwn5KF30zqeZ8j5k5Q/flAqJcThGwA.jpg?size=1069x409&quality=96&sign=1b73ef4190d9e252b37f486f05d969cd&type=album)
Этого товара не существует, но два крайних товара ссылаются на него.

![mountains](https://sun9-46.userapi.com/impg/u-65qqfZDRR_vtqhkoZjlFMqayZ2EMsKpMBXOg/DO5eUFO_wgQ.jpg?size=639x467&quality=96&sign=9daabfd37169cb4c6ed94d9f3871f03a&type=album)
![mountains](https://sun9-32.userapi.com/impg/AmYVm_e9bPrGLGmtNpmFFFTPDdPkAQQDP2VTVg/DHB4umnnxP4.jpg?size=458x335&quality=96&sign=ce46531829eb2ba1ee7616b6ce989359&type=album)

# Почему использовался такой способ?
Потому что страница products генерировалась динамически и просто запросами она не выдавалась.



# Как проблема была решена?
 
Используется старый код обработки и сохранения  в таблицу. Но теперь появился сборщик ссылок со страницы products.
Страница products работает по запросу products?PAGE=<номер страницы>. Алгоритм опрашивает страницу пока не получит пустую. (Для актуальной версии сайта это 51)
Опрос страницы производится достаточно в лоб, мы находим на компьютере Google Chrome v91 (последней на момент написания кода). Это не самый производительный вариант, но так как таких страниц только 50, то ничего страшного тут нет (кроме необходимости найти google chrome)

Собранные ссылки обрабатываются и складываются в соответвующий csv файл.

Был проведён тест на Win 7 со скоростью интернета в 70 мбит/с. Программа показывает время работы 9 минут ± 45 секунд.

# Интерфейс
Был создан некоторый интерфейс, который можно использовать для ввода названия таблицы. Загрузка интерфейса занимает время, а названия чаще всего будут типичными. Есть сомнения в необходимости в данном функционале.
![mountains](https://sun9-13.userapi.com/impg/BcwUSHuoxI15SPKpm-Uw47j7wKbPelsMaEcPAA/X3ehxBCym7Q.jpg?size=357x142&quality=96&sign=d497f7063b5a8db2af1cfac97a3078c0&type=album)

# Вопросы

1) Как должен выглядеть отчёт сравнения? Будет ли окей перечислить в блокноте всё, что пропало и всё что появилось?
2) Отчёт сравнения должен генерироваться при парсинге каждый раз или нужно встроить функцию сравнения, которая может вызываться отдельно
3) Если отчёт будет делаться каждый раз, а названия выбирать не требуется, то может можно отказаться от оконного интерфейса в пользу консольного, где будут более удобно видны логи?

